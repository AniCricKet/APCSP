<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">CI/CD with Github Actions</h1><p class="page-description">CI/CD with Github and AWS. Continuous Integration and Continuous Delivery. Information on connecting Github with AWS.</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2023-02-08T00:00:00-06:00" itemprop="datePublished">
        Feb 8, 2023
      </time>
       â€¢ <span class="read-time" title="Estimated read time">
    
    
      1 min read
    
</span></p>

    

    
      
        <div class="pb-5 d-flex flex-justify-center">
          <div class="px-2">

    <a href="https://github.com/nighthawkcoders/APCSP/tree/master/_notebooks/2023-02-08-PBL-cd_ci.ipynb" role="button" target="_blank">
<img class="notebook-badge-image" src="/APCSP/assets/badges/github.svg" alt="View On GitHub">
    </a>
</div>

          <div class="px-2">
    <a href="https://mybinder.org/v2/gh/nighthawkcoders/APCSP/master?filepath=_notebooks%2F2023-02-08-PBL-cd_ci.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/APCSP/assets/badges/binder.svg" alt="Open In Binder"/>
    </a>
</div>

          <div class="px-2">
    <a href="https://colab.research.google.com/github/nighthawkcoders/APCSP/blob/master/_notebooks/2023-02-08-PBL-cd_ci.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/APCSP/assets/badges/colab.svg" alt="Open In Colab"/>
    </a>
</div>
          <div class="px-2">
  <a href="https://deepnote.com/launch?url=https%3A%2F%2Fgithub.com%2Fnighthawkcoders%2FAPCSP%2Fblob%2Fmaster%2F_notebooks%2F2023-02-08-PBL-cd_ci.ipynb" target="_blank">
      <img class="notebook-badge-image" src="/APCSP/assets/badges/deepnote.svg" alt="Launch in Deepnote"/>
  </a>
</div>

        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#Automatic-Deployment">Automatic Deployment </a></li>
</ul><!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2023-02-08-PBL-cd_ci.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Automatic-Deployment">
<a class="anchor" href="#Automatic-Deployment" aria-hidden="true"><span class="octicon octicon-link"></span></a>Automatic Deployment<a class="anchor-link" href="#Automatic-Deployment"> </a>
</h2>
<blockquote>
<p>This is how to do automatic deployment using GitHub actions, which can run code after each code push is made.  This is similar to Actions on GitHub Pages or Fastpages.</p>
<ul>
<li>A secret will need to be set up from your AWS EC2 PEM file for your SSH key, in the Repository Settings &gt; Secrets create a new secret called SSH_KEY</li>
<li>This SSH_KEY should contain encoded output of your AWS PEM <code>base64 -w 0 aws_ssh_key.pem</code>, this encodes the key to use base64 ASCII characters so it is not in plain text.  Verbal instruction will be provided to implementor on where to obtain PEM file, this should be considered secret.</li>
<li>GitHub Actions can be specified in the .github/workflows directory. In your repository create a file called .github/workflows/deploy_project.yml with the below content (this decodes the base64 key, uses SSH to update deployment project and rebuild docker container).</li>
</ul>
</blockquote>

<pre><code>yml
name:Deploy to Serveron: [push]
jobs:
  AWS-Deploy:
    runs-on: ubuntu-latest
    steps:
      - run: echo $\{\{ secrets.SSH_KEY \}\} | base64 -d &gt; key.pem
      - run: chmod 400 key.pem
      - run: ssh -i key.pem -o StrictHostKeyChecking=no ubuntu@[your server ip/domain name] 'cd ~/your_project; git pull; docker-compose down; docker-compose up -d --build'</code></pre>

</div>
</div>
</div>
</div>



  </div><a class="u-url" href="/APCSP/2023/02/08/PBL-cd_ci.html" hidden></a>
</article>
